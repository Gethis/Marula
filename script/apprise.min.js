function Apprise(t,e){if(void 0===t||!t)return!1;var a=this,n=$('<div class="apprise-inner">'),i=$('<div class="apprise-buttons">'),o=$('<input type="text">'),s={animation:700,buttons:{confirm:{action:function(){a.dissapear()},className:null,id:"confirm",text:"Ok"}},input:!1,override:!0};return $.extend(s,e),"close"==t?($cA.dissapear(),void 0):$Apprise.is(":visible")?(AppriseQueue.push({text:t,options:s}),void 0):(this.adjustWidth=function(){var t=$window.width(),e="20%",a="40%";800>=t?(e="90%",a="5%"):1400>=t&&t>800?(e="70%",a="15%"):1800>=t&&t>1400?(e="50%",a="25%"):2200>=t&&t>1800&&(e="30%",a="35%"),$Apprise.css("width",e).css("left",a)},this.dissapear=function(){$Apprise.animate({top:"-100%"},s.animation,function(){$overlay.fadeOut(300),$Apprise.hide(),$window.unbind("beforeunload"),$window.unbind("keydown"),AppriseQueue[0]&&(Apprise(AppriseQueue[0].text,AppriseQueue[0].options),AppriseQueue.splice(0,1))})},this.keyPress=function(){$window.bind("keydown",function(t){27===t.keyCode?s.buttons.cancel?$("#apprise-btn-"+s.buttons.cancel.id).trigger("click"):a.dissapear():13===t.keyCode&&(s.buttons.confirm?$("#apprise-btn-"+s.buttons.confirm.id).trigger("click"):a.dissapear())})},$.each(s.buttons,function(t,e){if(e){var a=$('<button id="apprise-btn-'+e.id+'">').append(e.text);e.className&&a.addClass(e.className),i.append(a),a.on("click",function(){var t={clicked:e,input:o.val()?o.val():null};e.action(t)})}}),s.override&&$window.bind("beforeunload",function(){return"An alert requires attention"}),a.adjustWidth(),$window.resize(function(){a.adjustWidth()}),$Apprise.html("").append(n.append('<div class="apprise-content">'+t+"</div>")).append(i),$cA=this,s.input&&n.find(".apprise-content").append($('<div class="apprise-input">').append(o)),$overlay.fadeIn(300),$Apprise.show().animate({top:"20%"},s.animation,function(){a.keyPress()}),s.input&&o.focus(),void 0)}var $Apprise=null,$overlay=null,$body=null,$window=null,$cA=null,AppriseQueue=[];$(function(){$Apprise=$('<div class="apprise">'),$overlay=$('<div class="apprise-overlay">'),$body=$("body"),$window=$(window),$body.append($overlay.css("opacity",".94")).append($Apprise)});